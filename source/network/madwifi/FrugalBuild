# Compiling Time: 0.17 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=madwifi
pkgver=0.9.4
pkgrel=56
pkgdesc="Madwifi drivers for Atheros wireless chipsets"
Finclude kernel-module
depends=(${depends[@]} 'wireless_tools')
replaces=('madwifi-ng')
makedepends=(${makedepends[@]} 'sharutils')
groups=('network')
archs=('i686' 'x86_64')
Finclude sourceforge
url="http://madwifi.sourceforge.net/"
source=($source madwifi-0.9.3-cflags.diff kernel-2.6.2{6,7,9}.patch kernel-2.6.3{0,1,2,3,5,7}.patch \
	https://dev.openwrt.org/export/25702/trunk/package/madwifi/patches/466-2.6.38_compile.patch)
sha1sums=('6f289cb2e99d27b23570d15b69bf0f4240e34d1e' \
          '26fdc221e5bb0299d8b3c41ad30b6fe6882a8e35' \
          '41928bbfdbb4e1c1fa5c1ed93fb673542c18bbc3' \
          'd13a31f131b227838046c384e04cb32922b481bf' \
          '0afa565128984ebcae441580b83eb916a2f3f09c' \
          '8e9aef8b6d7fe815bb0816f107b65cda362d520e' \
          '49e925f5a0a1705e9e9475f44f4005d6576fe51b' \
          'e066b925df4e9119879fc23818c18ae62ef3008a' \
          '9a5ceb3611a6eaadfc5f68003e31a62569754369' \
          '38c64a6599bd394c2a4f0eb2921fe122894050ae' \
          'c01931c9be8be67a88a6ea062c35962125b1a92a' \
          '7e42b6955cf514205e2305e1a4b4b6d85d528070')

# If the package needs testing, feel free to poke Benjamin Woods <woodsb02@gmail.com>

build()
{
	# no Fcheckkernel, crosscompilation verified
	Fpatchall
	KERNELPATH=/usr/src/linux Fmake
	Fmakeinstall KERNELPATH=/usr/src/linux \
		MODULEPATH=$_F_kernelmod_dir/kernel/drivers/net/wireless \
		BINDIR=/usr/bin MANDIR=/usr/man
	Fbuild_kernelmod_scriptlet
}

# optimization OK

