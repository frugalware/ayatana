# Compiling Time: 0.03 SBU
# Maintainer: James Buren <ryuo@frugalware.org>

pkgname=frandom
pkgver=1.0
pkgrel=5
pkgdesc="A RNG that is faster than /dev/urandom."
groups=('base-extra')
archs=('i686' 'x86_64')
Finclude sourceforge kernel-module
url="http://billauer.co.il/frandom.html"
sha1sums=('bb0127c88ae266b04d13e710a5b979b3d4a59df7')

build()
{
	Fmkdir /dev
	Fsed '$(shell uname -r)' "$_F_kernelmod_uname" Makefile
	Fmake
	Ffilerel /lib/modules/$_F_kernelmod_uname/kernel/$pkgname.ko
	Fbuild_kernelmod_scriptlet
	Fexec mknod $Fdestdir/dev/frandom c 235 11
	Fexec mknod $Fdestdir/dev/erandom c 235 12
	Ffileschmod /dev 0444
}
